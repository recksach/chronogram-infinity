<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>CHRONOGRAM: MATRIX</title>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Montserrat:wght@300;400;600&display=swap" rel="stylesheet">
    
    <script src="https://cdn.jsdelivr.net/npm/gun/gun.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/gun/sea.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/gun/lib/webrtc.js"></script>

    <style>
        /* === MATRIX GOLD THEME === */
        :root {
            --bg: #000;
            --gold: #D4AF37;
            --gold-glow: 0 0 15px rgba(212, 175, 55, 0.5);
            --glass: rgba(10, 10, 10, 0.9);
            --border: 1px solid #333;
        }
        * { box-sizing: border-box; outline: none; -webkit-tap-highlight-color: transparent; user-select: none; }
        body { margin: 0; padding: 0; background: var(--bg); color: white; font-family: 'Montserrat'; height: 100vh; overflow: hidden; }
        
        #bg-canvas { position: fixed; top:0; left:0; width:100%; height:100%; z-index:-1; opacity:0.3; }

        /* –ò–ù–¢–ï–†–§–ï–ô–° */
        .app { display: flex; height: 100%; width: 100%; }
        
        /* –ú–µ–Ω—é */
        .sidebar { width: 70px; background: #050505; border-right: var(--border); display: flex; flex-direction: column; align-items: center; padding-top: 20px; z-index: 100; }
        .nav-btn { font-size: 1.8rem; margin-bottom: 30px; cursor: pointer; color: #555; transition: 0.2s; position: relative; z-index: 101; }
        .nav-btn.active { color: var(--gold); text-shadow: var(--gold-glow); transform: scale(1.1); }

        @media (max-width: 768px) {
            .app { flex-direction: column; }
            .sidebar { width: 100%; height: 60px; flex-direction: row; justify-content: space-around; border-right: none; border-top: var(--border); position: absolute; bottom: 0; padding: 0; order: 2; }
            .nav-btn { margin-bottom: 0; }
            .content { height: calc(100% - 60px) !important; }
        }

        .content { flex: 1; position: relative; height: 100%; background: var(--glass); z-index: 1; }
        
        .top-bar { height: 60px; border-bottom: var(--border); display: flex; align-items: center; justify-content: space-between; padding: 0 20px; background: rgba(0,0,0,0.8); }
        .brand { font-family: 'Cinzel'; color: var(--gold); font-weight: bold; font-size: 1.2rem; }

        .view { display: none; height: 100%; overflow-y: auto; padding: 15px; flex-direction: column; align-items: center; padding-bottom: 80px; }
        .view.active { display: flex; }
        .box { width: 100%; max-width: 500px; }

        /* –≠–ª–µ–º–µ–Ω—Ç—ã */
        .card { background: rgba(20,20,20,0.8); border: 1px solid #333; border-radius: 15px; padding: 15px; margin-bottom: 15px; width: 100%; position: relative; z-index: 10; backdrop-filter: blur(5px); }
        
        .btn { 
            background: linear-gradient(135deg, #bf953f, #b38728); border: none; 
            padding: 10px 20px; border-radius: 25px; font-weight: bold; color: #000; 
            font-family: 'Cinzel'; cursor: pointer; width: 100%; margin-top: 10px;
            position: relative; z-index: 20; box-shadow: 0 0 10px rgba(212,175,55,0.3);
        }
        .btn:active { transform: scale(0.95); background: white; }
        
        input, textarea { width: 100%; background: #151515; border: 1px solid #444; color: white; padding: 12px; border-radius: 10px; margin-bottom: 10px; font-family: 'Montserrat'; font-size: 1rem; position: relative; z-index: 20; }
        
        .avatar { width: 60px; height: 60px; border-radius: 50%; border: 2px solid var(--gold); background-size: cover; background-position: center; background-color: #000; flex-shrink: 0; cursor: pointer; position: relative; z-index: 20; }
        
        /* –ú–µ–¥–∏–∞ */
        .post-img { width: 100%; border-radius: 10px; margin-top: 10px; border: 1px solid #444; }
        .post-video { width: 100%; border-radius: 10px; margin-top: 10px; max-height: 400px; }

        /* –í—Ö–æ–¥ */
        #login-overlay { position: fixed; top:0; left:0; width:100%; height:100%; background: #000; z-index: 9999; display: flex; flex-direction: column; justify-content: center; align-items: center; }
        
        /* –ó–Ω–∞—á–∫–∏ */
        .god-badge { color: var(--gold); margin-left: 5px; text-shadow: 0 0 5px var(--gold); font-size: 1.2rem; }
        .check-badge { color: #3498db; margin-left: 5px; font-size: 1rem; }

        .hidden { display: none !important; }
    </style>
</head>
<body>

    <canvas id="bg-canvas"></canvas>

    <div id="login-overlay">
        <div style="width:100px; height:100px; border:3px solid #D4AF37; border-radius:50%; margin-bottom:20px; background-image:url('image_1.png'); background-size:cover;"></div>
        <h1 style="font-family:'Cinzel'; color:#D4AF37; margin-bottom:30px;">CHRONOGRAM</h1>
        <div style="width: 280px; text-align: center;">
            <input type="text" id="user-login" placeholder="–õ–æ–≥–∏–Ω (mrakodum)" style="text-align:center;">
            <input type="password" id="user-pass" placeholder="–ü–∞—Ä–æ–ª—å" style="text-align:center;">
            <div style="display:flex; gap:10px;">
                <button class="btn" style="background:#333; color:white;" onclick="User.reg()">–†–ï–ì–ò–°–¢–†–ê–¶–ò–Ø</button>
                <button class="btn" onclick="User.auth()">–í–û–ô–¢–ò</button>
            </div>
            <p onclick="localStorage.clear();location.reload()" style="margin-top:20px; color:#555; font-size:0.7rem; cursor:pointer; text-decoration:underline; position:relative; z-index:10000;">–°–ë–†–û–°–ò–¢–¨ –í–°–ï –î–ê–ù–ù–´–ï</p>
        </div>
    </div>

    <div id="app" class="app hidden">
        <div class="sidebar">
            <div class="nav-btn active" onclick="Nav.go('feed')">‚ò∑</div>
            <div class="nav-btn" onclick="Nav.go('search')">üîç</div>
            <div class="nav-btn" onclick="Nav.go('aura')" style="color:#e056fd;">‚óé</div>
            <div class="nav-btn" onclick="Nav.go('chats')">üí¨</div>
            <div class="nav-btn" onclick="Nav.go('profile')">üë§</div>
        </div>

        <div class="content">
            <div class="top-bar">
                <span class="brand">GLOBAL</span>
                <div class="avatar" id="mini-ava" style="width:40px; height:40px;" onclick="Nav.go('profile')"></div>
            </div>

            <div id="pg-feed" class="view active">
                <div class="box">
                    <div class="card">
                        <textarea id="feed-txt" placeholder="–ß—Ç–æ –Ω–æ–≤–æ–≥–æ?"></textarea>
                        <div style="display:flex; justify-content:space-between; align-items:center;">
                            <label class="btn" style="width:auto; background:transparent; border:1px solid #D4AF37; color:#D4AF37; padding:5px 15px; font-size:1.5rem;">
                                üìé <input type="file" hidden onchange="Post.attach(this)">
                            </label>
                            <button class="btn" style="width:auto;" onclick="Post.send('feed')">–û–ü–£–ë–õ–ò–ö–û–í–ê–¢–¨</button>
                        </div>
                        <div id="file-preview" style="font-size:0.7rem; color:#888; margin-top:5px;"></div>
                    </div>
                    <div id="feed-list"></div>
                </div>
            </div>

            <div id="pg-search" class="view">
                <div class="box">
                    <h3 style="color:#D4AF37; text-align:center;">–õ–Æ–î–ò –í –ú–ê–¢–†–ò–¶–ï</h3>
                    <div class="card">
                        <input type="text" id="search-nick" placeholder="–ü–æ–∏—Å–∫ –ø–æ –Ω–∏–∫—É...">
                        <button class="btn" onclick="People.find()">–ù–ê–ô–¢–ò</button>
                        <button class="btn" style="background:#333; color:#fff; font-size:0.8rem;" onclick="People.loadAll()">–ó–ê–ì–†–£–ó–ò–¢–¨ –°–ü–ò–°–û–ö –í–°–ï–•</button>
                    </div>
                    <div id="people-list"></div>
                </div>
            </div>

            <div id="pg-aura" class="view" style="padding:0; background:#000;">
                <label class="btn" style="position:absolute; top:20px; right:20px; width:auto; z-index:500; background:rgba(0,0,0,0.5); border:1px solid white; color:white;">
                    + <input type="file" hidden accept="video/*,image/*" onchange="Aura.upload(this)">
                </label>
                <div id="aura-list" style="height:100%; width:100%;">
                    <div style="color:#555; text-align:center; padding-top:50%;">–õ–µ–Ω—Ç–∞ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è...</div>
                </div>
            </div>

            <div id="pg-chats" class="view">
                <div class="box">
                    <h3>–í–ê–®–ò –ü–ï–†–ï–ü–ò–°–ö–ò</h3>
                    <div id="chat-list"></div>
                </div>
            </div>

            <div id="pg-profile" class="view">
                <div class="box">
                    <div class="card" style="text-align:center;">
                        <label>
                            <div class="avatar" id="profile-ava" style="width:120px; height:120px; margin:0 auto;"></div>
                            <input type="file" hidden accept="image/*" onchange="Profile.upload(this)">
                        </label>
                        <h2 style="margin:10px 0; color:#D4AF37;">
                            <span id="profile-name">@User</span>
                            <span id="badge-god" class="god-badge hidden">‚ôõ</span>
                            <span id="badge-verif" class="check-badge hidden">‚úî</span>
                        </h2>
                        
                        <div id="god-panel" class="hidden" style="border:1px solid red; padding:10px; border-radius:10px; margin-top:10px; background:rgba(50,0,0,0.3);">
                            <h4 style="color:red; margin:0 0 10px 0;">–£–ü–†–ê–í–õ–ï–ù–ò–ï –ú–ò–†–û–ú</h4>
                            <input type="text" id="god-target" placeholder="–ù–∏–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è">
                            <button class="btn" style="background:#500;" onclick="God.forceSub()">–ü–û–î–ü–ò–°–ê–¢–¨ –ù–ê –ú–ï–ù–Ø</button>
                            <button class="btn" style="background:#000; border:1px solid red;" onclick="God.ban()">–ó–ê–ë–ê–ù–ò–¢–¨ –í –õ–ï–ù–¢–ï</button>
                            <button class="btn" style="background:blue;" onclick="God.verify()">–í–´–î–ê–¢–¨ –ì–ê–õ–û–ß–ö–£</button>
                        </div>

                        <button class="btn" style="background:#333; margin-top:20px;" onclick="User.logout()">–í–´–ô–¢–ò</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="chat-room" style="position:fixed; top:0; left:0; width:100%; height:100%; background:#000; z-index:2000; display:none; flex-direction:column;">
        <div class="top-bar" style="background:#111; flex-shrink:0;">
            <span id="chat-title" style="color:#D4AF37; font-weight:bold;">–ß–∞—Ç</span>
            <button class="btn" style="width:auto; margin:0; padding:5px 15px;" onclick="document.getElementById('chat-room').style.display='none'">X</button>
        </div>
        <div id="chat-msgs" style="flex:1; overflow-y:auto; padding:15px;"></div>
        <div style="padding:10px; background:#111; display:flex; gap:10px; flex-shrink:0;">
            <input type="text" id="chat-in" placeholder="–°–æ–æ–±—â–µ–Ω–∏–µ..." style="margin:0;">
            <button class="btn" style="width:auto; margin:0;" onclick="Chat.send()">></button>
        </div>
    </div>

    <script>
        // === –°–ï–¢–¨ –ú–ê–¢–†–ò–¶–´ (–ú–ù–û–ì–û –°–ï–†–í–ï–†–û–í) ===
        const gun = Gun({
            peers: [
                'https://gun-manhattan.herokuapp.com/gun',
                'https://gun-eu.herokuapp.com/gun',
                'https://gunjs.herokuapp.com/gun',
                'https://e2eec.herokuapp.com/gun',
                'https://gun-us.herokuapp.com/gun'
            ]
        });
        const user = gun.user();
        let myUser = null;
        let currentPub = null;

        // === –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–¨ ===
        const User = {
            reg: () => {
                const u = document.getElementById('user-login').value.toLowerCase();
                const p = document.getElementById('user-pass').value;
                if(!u || !p) return alert("–í–≤–µ–¥–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ");
                user.create(u, p, ack => {
                    if(ack.err) alert(ack.err);
                    else User.login(u, p);
                });
            },
            auth: () => {
                const u = document.getElementById('user-login').value.toLowerCase();
                const p = document.getElementById('user-pass').value;
                User.login(u, p);
            },
            login: (u, p) => {
                user.auth(u, p, ack => {
                    if(ack.err) alert("–û—à–∏–±–∫–∞: " + ack.err);
                    else {
                        myUser = u;
                        // –ó–ê–ü–ò–°–¨ –í –ì–õ–û–ë–ê–õ–¨–ù–£–Æ –ö–ù–ò–ì–£
                        gun.get('matrix_users').get(u).put({name:u, pub:user.is.pub, time:Date.now()});
                        
                        document.getElementById('login-overlay').style.display='none';
                        document.getElementById('app').classList.remove('hidden');
                        App.start();
                    }
                });
            },
            logout: () => { user.leave(); location.reload(); }
        };

        // –ê–≤—Ç–æ-–≤—Ö–æ–¥
        gun.on('auth', () => {
            user.get('alias').once(u => {
                myUser = u;
                document.getElementById('login-overlay').style.display='none';
                document.getElementById('app').classList.remove('hidden');
                App.start();
            });
        });

        const App = {
            start: () => {
                if(myUser === 'mrakodum') {
                    document.getElementById('god-panel').classList.remove('hidden');
                    document.getElementById('badge-god').classList.remove('hidden');
                    document.getElementById('badge-verif').classList.remove('hidden');
                }
                Profile.load();
                Post.load();
                People.loadAll(); // –ì—Ä—É–∑–∏–º —Å–ø–∏—Å–æ–∫ –ª—é–¥–µ–π —Å—Ä–∞–∑—É
                Chat.loadList();
                Aura.init();
            }
        };

        // === –ü–†–û–§–ò–õ–¨ ===
        const Profile = {
            load: () => {
                document.getElementById('profile-name').innerText = '@' + myUser;
                user.get('avatar').on(src => {
                    if(src) {
                        document.getElementById('profile-ava').style.backgroundImage = `url('${src}')`;
                        document.getElementById('mini-ava').style.backgroundImage = `url('${src}')`;
                    }
                });
            },
            upload: (inp) => {
                const f = inp.files[0];
                const r = new FileReader();
                r.onload = e => user.get('avatar').put(e.target.result);
                r.readAsDataURL(f);
            }
        };

        // === –õ–Æ–î–ò (–ü–û–ò–°–ö) ===
        const People = {
            loadAll: () => {
                const list = document.getElementById('people-list');
                list.innerHTML = '';
                gun.get('matrix_users').map().once((data, nick) => {
                    if(!data) return;
                    list.innerHTML += `
                    <div class="card" style="display:flex; justify-content:space-between; align-items:center;">
                        <div>
                            <b style="color:#D4AF37; font-size:1.2rem;">@${data.name}</b>
                            <div style="font-size:0.7rem; color:#666;">ID: ${data.pub.substr(0,6)}...</div>
                        </div>
                        <div style="display:flex; gap:5px;">
                            <button class="btn" style="width:auto; margin:0; font-size:0.8rem;" onclick="Chat.open('${data.pub}', '${data.name}')">–ß–ê–¢</button>
                        </div>
                    </div>`;
                });
            },
            find: () => {
                const t = document.getElementById('search-nick').value.toLowerCase();
                gun.get('matrix_users').get(t).once(d => {
                    if(!d) return alert("–ù–µ –Ω–∞–π–¥–µ–Ω");
                    Chat.open(d.pub, d.name);
                });
            }
        };

        // === –ü–û–°–¢–´ –ò –°–ö–†–ï–ü–ö–ê ===
        const Post = {
            temp: null,
            attach: (inp) => {
                const f = inp.files[0];
                const r = new FileReader();
                r.onload = e => {
                    Post.temp = { src: e.target.result, type: f.type };
                    document.getElementById('file-preview').innerText = "–§–∞–π–ª –≥–æ—Ç–æ–≤: " + f.name;
                };
                r.readAsDataURL(f);
            },
            send: (type) => {
                const txt = document.getElementById('feed-txt').value;
                if(!txt && !Post.temp) return;
                
                const data = {
                    text: txt, author: myUser, time: Date.now(),
                    media: Post.temp ? Post.temp.src : null,
                    mediaType: Post.temp ? Post.temp.type : null
                };
                
                gun.get('posts_global').set(data);
                
                document.getElementById('feed-txt').value=''; 
                document.getElementById('file-preview').innerText='';
                Post.temp = null;
            },
            load: () => {
                gun.get('posts_global').map().on(p => {
                    if(!p || !p.text) return;
                    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–Ω–∞ (–ª–æ–∫–∞–ª—å–Ω–æ)
                    if(localStorage.getItem('banned_' + p.author)) return;

                    let mediaHtml = '';
                    if(p.media) {
                        if(p.mediaType.includes('video')) mediaHtml = `<video src="${p.media}" controls class="post-video"></video>`;
                        else if(p.mediaType.includes('audio')) mediaHtml = `<audio src="${p.media}" controls style="width:100%; margin-top:10px;"></audio>`;
                        else mediaHtml = `<img src="${p.media}" class="post-img">`;
                    }

                    const html = `
                    <div class="card" id="post-${p.time}">
                        <b style="color:#D4AF37">@${p.author}</b>
                        <div style="margin-top:5px;">${p.text}</div>
                        ${mediaHtml}
                    </div>`;
                    
                    // –î–æ–±–∞–≤–ª—è–µ–º –≤ –Ω–∞—á–∞–ª–æ (–ø—Ä–æ—Å—Ç–æ–π —Ö–∞–∫)
                    const list = document.getElementById('feed-list');
                    if(!document.getElementById('post-'+p.time)) list.insertAdjacentHTML('afterbegin', html);
                });
            }
        };

        // === AURA ===
        const Aura = {
            upload: (inp) => {
                const f = inp.files[0];
                const r = new FileReader();
                r.onload = e => {
                    gun.get('aura_global').set({src: e.target.result, author: myUser, time: Date.now()});
                    alert("–ó–∞–≥—Ä—É–∂–µ–Ω–æ –≤ –ê—É—Ä—É");
                };
                r.readAsDataURL(f);
            },
            init: () => {
                gun.get('aura_global').map().on(p => {
                    if(!p) return;
                    let content = p.src.includes('data:video') 
                        ? `<video src="${p.src}" controls style="width:100%; max-height:80vh;"></video>`
                        : `<img src="${p.src}" style="width:100%;">`;
                    
                    const html = `
                    <div class="aura-slide" style="width:100%; height:100%; display:flex; flex-direction:column; justify-content:center; align-items:center; border-bottom:1px solid #333; padding-bottom:50px;">
                        ${content}
                        <div style="background:rgba(0,0,0,0.5); padding:10px; margin-top:-50px; position:relative; z-index:10;"><b>@${p.author}</b></div>
                    </div>`;
                    
                    document.getElementById('aura-list').insertAdjacentHTML('afterbegin', html);
                });
            }
        };

        // === –ß–ê–¢–´ ===
        const Chat = {
            activePub: null,
            open: (pub, name) => {
                Chat.activePub = pub;
                document.getElementById('chat-room').style.display = 'flex';
                document.getElementById('chat-title').innerText = name;
                document.getElementById('chat-msgs').innerHTML = '';
                
                // –ü–æ–¥–ø–∏—Å–∫–∞
                const k = [user.is.pub, pub].sort().join('~');
                gun.get('chat_' + k).map().once(m => {
                    const div = document.createElement('div');
                    div.style.background = m.who === myUser ? '#D4AF37' : '#333';
                    div.style.color = m.who === myUser ? '#000' : '#fff';
                    div.style.padding = '10px'; div.style.borderRadius = '10px'; div.style.marginBottom = '5px';
                    div.style.alignSelf = m.who === myUser ? 'flex-end' : 'flex-start';
                    div.style.maxWidth = '80%';
                    div.innerText = m.text;
                    document.getElementById('chat-msgs').appendChild(div);
                });
                
                // –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ —Å–ø–∏—Å–æ–∫
                user.get('my_chats').get(pub).put(name);
            },
            send: () => {
                const t = document.getElementById('chat-in').value;
                if(!t) return;
                const k = [user.is.pub, Chat.activePub].sort().join('~');
                gun.get('chat_' + k).set({text: t, who: myUser, time: Date.now()});
                document.getElementById('chat-in').value = '';
            },
            loadList: () => {
                user.get('my_chats').map().on((name, pub) => {
                    if(!document.getElementById('c-'+pub)) {
                        document.getElementById('chat-list').innerHTML += 
                        `<div id="c-${pub}" class="card" onclick="Chat.open('${pub}','${name}')" style="cursor:pointer;"><b>${name}</b></div>`;
                    }
                });
            }
        };

        // === GOD MODE ===
        const God = {
            forceSub: () => {
                const t = document.getElementById('god-target').value;
                if(!t) return;
                alert(`–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ${t} –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –ø–æ–¥–ø–∏—Å–∞–Ω –Ω–∞ –≤–∞—Å (–≠–º—É–ª—è—Ü–∏—è)`);
                // –í Gun –Ω–µ–ª—å–∑—è –ø–∏—Å–∞—Ç—å –≤ —á—É–∂–æ–π –≥—Ä–∞—Ñ, –Ω–æ –º–æ–∂–Ω–æ –∑–∞—Å—Ç–∞–≤–∏—Ç—å –µ–≥–æ –∫–ª–∏–µ–Ω—Ç "—É–≤–∏–¥–µ—Ç—å" –ø–æ–¥–ø–∏—Å–∫—É, –µ—Å–ª–∏ –±—ã —É –Ω–∞—Å –±—ã–ª –ø–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ —Å–µ—Ç—å—é.
            },
            ban: () => {
                const t = document.getElementById('god-target').value;
                if(!t) return;
                localStorage.setItem('banned_' + t, true);
                alert(`–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ${t} –∑–∞–±–∞–Ω–µ–Ω (—Å–∫—Ä—ã—Ç –∏–∑ –ª–µ–Ω—Ç—ã). –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É.`);
            },
            verify: () => {
                const t = document.getElementById('god-target').value;
                // –ú—ã –ø–∏—à–µ–º –≤ –ø—É–±–ª–∏—á–Ω—ã–π —Å–ø–∏—Å–æ–∫ "–≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö", –∏ –≤—Å–µ –∫–ª–∏–µ–Ω—Ç—ã –¥–æ–ª–∂–Ω—ã –µ–º—É –≤–µ—Ä–∏—Ç—å
                gun.get('verified_users').get(t).put(true);
                alert("–ì–∞–ª–æ—á–∫–∞ –≤—ã–¥–∞–Ω–∞!");
            }
        };

        const Nav = { go: (id) => { document.querySelectorAll('.view').forEach(e=>e.classList.remove('active')); document.querySelectorAll('.nav-btn').forEach(e=>e.classList.remove('active')); document.getElementById('pg-'+id).classList.add('active'); } };
        
        // –ú–∞—Ç—Ä–∏—Ü–∞
        const cvs = document.getElementById('bg-canvas'), ctx = cvs.getContext('2d');
        cvs.width = window.innerWidth; cvs.height = window.innerHeight;
        const drops = Array(Math.floor(cvs.width/20)).fill(1);
        setInterval(()=>{
            ctx.fillStyle='rgba(0,0,0,0.05)'; ctx.fillRect(0,0,cvs.width,cvs.height);
            ctx.fillStyle='#D4AF37';
            drops.forEach((y,i)=>{ ctx.fillText(String.fromCharCode(0x30A0+Math.random()*96), i*20, y*20); drops[i] = y*20 > cvs.height && Math.random()>0.975 ? 0 : y+1; });
        }, 50);
    </script>
</body>
</html>